# paths/v1/examples-parents-{id}-example-childs.yaml
---
get:
  summary: Get children with pets of parent by example parent ID.
  description: |
    An example endpoint where API reponse returns a list of objects of type 'ExampleChildWithPetModel', configured to
    validate how OpenAPI generator handles "oneOf" with a "discrimator" schema.
  security:
    - BearerAuth: []
  tags:
    - ExampleCall
  operationId: getChildrenWithPetsByExampleParentId
  parameters:
    - $ref: '../../openapi.yaml#/components/parameters/example-parent-id'
    - $ref: '../../openapi.yaml#/components/parameters/limit'
  responses:
    "200":
      description: Successfully retrieved simple response objects.
      content:
        application/json:
          schema:
            type: object
            properties:
              Message:
                type: string
                description: Message response string.
                minLength: 1
                example: "Results found"
              Items:
                type: array
                description: Array of ExampleChildWithPetModel objects returned.
                items:
                  $ref: '../../openapi.yaml#/components/schemas/ExampleChildWithPetModel'
                example:
                  - ModelType: "ExampleChildWithDog"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 1"
                    DogName: "Bones"
                  - ModelType: "ExampleChildWithCat"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 2"
                    CatName: "Snowball"
              Count:
                type:
                  - string
                  - "null"
                description: Count of objects returned, null if error occured.
                example: ""
          examples:
            apiReturnedItems:
              summary: API returned items found.
              value:
                Message: "Results found"
                Items:
                  - ModelType: "ExampleChildWithDog"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 1"
                    DogName: "Bones"
                  - ModelType: "ExampleChildWithCat"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 2"
                    CatName: "Snowball"
                Count: "1"
            apiReturnedEmpty:
              summary: API returned empty results.
              value:
                Message: "No results found"
                Items: []
                Count: "0"
    "401":
      $ref: '../../openapi.yaml#/components/responses/401Unauthorized'
    "500":
      description: Internal server error encountered.
      content:
        application/json:
          schema:
            type: object
            properties:
              Message:
                type: string
                description: Message response string.
                minLength: 1
                example: "Results found"
              Items:
                type: array
                description: Array of ExampleChildWithPetModel objects returned, but API error returns empty array.
                items:
                  $ref: '../../openapi.yaml#/components/schemas/ExampleChildWithPetModel'
                example:
                  - ModelType: "ExampleChildWithDog"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 1"
                    DogName: "Bones"
                  - ModelType: "ExampleChildWithCat"
                    ChildId: "5c06345b-eb66-4f31-84ed-42847b630133"
                    ChildName: "Example child name 2"
                    CatName: "Snowball"
              Count:
                type:
                  - string
                  - "null"
                description: Count of objects returned, null if error occured.
                example: ""
          examples:
            apiErrorEncountered:
              summary: API error encountered.
              value:
                Message: "API error encountered"
                Items: []
                Count: null
